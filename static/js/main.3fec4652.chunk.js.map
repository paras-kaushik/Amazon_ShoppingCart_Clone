{"version":3,"sources":["CartItem.js","Cart.js","Navbar.js","App.js","index.js"],"names":["CartItem","this","props","product","qty","price","title","className","style","height","width","borderRadius","background","src","img","fontSize","color","alt","onClick","onIncreaseQuantity","onDecreaseQuantity","onDeleteProduct","id","React","Component","Cart","products","map","styles","hea","nav","display","justifyContent","alignItems","cartIcon","marginRight","cartIconContainer","position","cartCount","padding","right","top","Navbar","console","log","count","App","handleIncreaseQuantity","state","index","indexOf","db","collection","doc","update","then","catch","error","handleDecreaseQuantity","handleDeleteProduct","delete","err","getcountOfCartItems","forEach","getcartTotal","cartTotal","addProduct","opt","add","docRef","get","snapshot","data","loading","firebase","options","orderBy","onSnapshot","docs","setState","ocf","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.3fec4652.chunk.js","sourcesContent":["import React from \"react\";\n\nclass CartItem extends React.Component {\n  render() {\n    const { qty, price, title } = this.props.product;\n    const { product } = this.props;\n\n    return (\n      <div className=\"cart-item\">\n        <div className=\"left-block\">\n          <img\n            style={{\n              height: 110,\n              width: 110,\n              borderRadius: 5,\n              background: \"#ccc\",\n            }}\n            src={product.img}\n          />\n        </div>\n        <div className=\"right-block\">\n          <div style={{ fontSize: 25 }}> {title} </div>\n          <div style={{ color: \"#777\" }}>{price}</div>\n          <div style={{ color: \"#777\" }}>Qty: {qty}</div>\n          <div className=\"cart-item-actions\">\n            <img\n              alt=\"add\"\n              src=\"https://cdn-icons-png.flaticon.com/512/32/32339.png\"\n              className=\"action-icons\"\n              onClick={() => this.props.onIncreaseQuantity(product)}\n            />\n            <img\n              alt=\"minus\"\n              src=\"https://cdn-icons-png.flaticon.com/512/43/43625.png\"\n              className=\"action-icons\"\n              onClick={() => this.props.onDecreaseQuantity(product)}\n            />\n            <img\n              alt=\"delete\"\n              src=\"https://cdn-icons-png.flaticon.com/512/1214/1214428.png\"\n              className=\"action-icons\"\n              onClick={() => this.props.onDeleteProduct(product.id)}\n            />\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default CartItem;\n","import React from 'react';\nimport CartItem from './CartItem';\n\nconst Cart = (props) => {\n  const { products } = props;\n  \n  return (\n    <div className=\"cart\">\n      {products.map((product) => (\n        <CartItem\n          key={product.id}\n          product={product}\n          onIncreaseQuantity={props.onIncreaseQuantity}\n          onDecreaseQuantity={props.onDecreaseQuantity}\n          onDeleteProduct={props.onDeleteProduct}\n        />\n        ))}\n    </div>\n  )\n}\n\nexport default Cart;","import React from \"react\";\n\nconst Navbar = (props) => {\n  console.log(\"props\", props);\n  return (\n    <div style={styles.nav}>\n      <h1 style={styles.hea}>\n        Amazon Cart Clone(REACT)using Firebase Realtime Database\n      </h1>\n      <div style={styles.cartIconContainer}>\n        <img\n          src=\"https://cdn-icons-png.flaticon.com/512/630/630746.png\"\n          style={styles.cartIcon}\n        />\n        <span style={styles.cartCount}>{props.count}</span>\n      </div>\n    </div>\n  );\n};\n\nconst styles = {\n  hea: {\n    color: \"white\",\n  },\n  nav: {\n    height: 70,\n    background: \"#4267b2\",\n    display: \"flex\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n  },\n  cartIcon: {\n    height: 32,\n    marginRight: 20,\n  },\n  cartIconContainer: {\n    position: \"relative\",\n  },\n  cartCount: {\n    background: \"yellow\",\n    borderRadius: \"50%\",\n    padding: \"4px 8px\",\n    position: \"absolute\",\n    right: 0,\n    top: -9,\n  },\n};\n\nexport default Navbar;\n","import React from \"react\";\nimport \"./App.css\";\n// import CartItem from './CartItem';\nimport Cart from \"./Cart\";\nimport Navbar from \"./Navbar\";\nimport * as firebase from \"firebase\";\n\nclass App extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      products: [],\n      loading: true,\n    };\n    this.db = firebase.firestore();\n    this.options = [\n      {\n        title: \"Rice (1Kg)\",\n        img: \"https://media.newyorker.com/photos/5f2c85539a557880d973a759/1:1/w_1823,h_1823,c_limit/Buford-FrenchRice.jpg\",\n      },\n      {\n        title: \"Atta (1Kg)\",\n        img: \"https://i.ndtvimg.com/mt/cooks/2014-11/wholemeal-flour-atta.jpg\",\n      },\n      {\n        title: \"Daal (1Kg) \",\n        img: \"https://upload.wikimedia.org/wikipedia/commons/thumb/f/f5/3_types_of_lentil.png/640px-3_types_of_lentil.png\",\n      },\n      {\n        title: \"Onion (1Kg)\",\n        img: \"https://cdn.theatlantic.com/thumbor/EzN397kNNrSmUeGu8HXn7Kk7nms=/0x93:1000x614/960x500/media/img/mt/2015/05/shutterstock_247399801/original.jpg\",\n      },\n      {\n        title: \"Tomato (1Kg)\",\n        img: \"https://upload.wikimedia.org/wikipedia/commons/8/89/Tomato_je.jpg\",\n      },\n    ];\n  }\n\n  // componentDidMount() {\n  //   firebase\n  //     .firestore()\n  //     .collection(\"products\")\n  //     .get()\n  //     .then(snapshot => {\n  //       const products = snapshot.docs.map(doc => {\n  //         const data = doc.data();\n  //         data[\"id\"] = doc.id;\n  //         return data;\n  //       });\n  //       this.setState({ products: products, loading: false });\n  //     });\n  // }\n\n  componentDidMount() {\n    this.db\n      .collection(\"products\")\n      // .where(\"price\", \"==\", 999)\n      // .where(\"title\", \"==\", \"Mug\")\n      .orderBy(\"price\", \"desc\")\n      .onSnapshot((snapshot) => {\n        const products = snapshot.docs.map((doc) => {\n          const data = doc.data();\n          data[\"id\"] = doc.id;\n          return data;\n        });\n        this.setState({ products: products, loading: false });\n      });\n  }\n\n  handleIncreaseQuantity = (product) => {\n    const { products } = this.state;\n    const index = products.indexOf(product);\n\n    // products[index].qty += 1;\n\n    // this.setState({\n    //   products\n    // });\n\n    const docRef = this.db.collection(\"products\").doc(products[index].id);\n\n    docRef\n      .update({ qty: products[index].qty + 1 })\n      .then(() => {\n        console.log(\"Document updated sucessfully\");\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n\n  handleDecreaseQuantity = (product) => {\n    const { products } = this.state;\n    const index = products.indexOf(product);\n\n    if (products[index].qty === 0) {\n      return;\n    }\n    // products[index].qty -= 1;\n\n    // this.setState({\n    //   products\n    // });\n    const docRef = this.db.collection(\"products\").doc(products[index].id);\n\n    docRef\n      .update({ qty: products[index].qty - 1 })\n      .then(() => {\n        console.log(\"Document updated sucessfully\");\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n\n  handleDeleteProduct = (id) => {\n    const { products } = this.state;\n\n    const docRef = this.db.collection(\"products\").doc(id);\n\n    docRef\n      .delete()\n      .then(() => {\n        console.log(\"Deleted sucessfully\");\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n\n    // const items = products.filter(product => product.id !== id);\n\n    // this.setState({\n    //   products: items\n    // });\n  };\n\n  getcountOfCartItems = () => {\n    const { products } = this.state;\n    let count = 0;\n\n    products.forEach((product) => {\n      count += product.qty;\n    });\n\n    return count;\n  };\n\n  getcartTotal = () => {\n    const { products } = this.state;\n    let cartTotal = 0;\n\n    products.map((product) => {\n      if (product.qty > 0) {\n        cartTotal = cartTotal + product.qty * product.price;\n      }\n      return \"\";\n    });\n\n    return cartTotal;\n  };\n\n  addProduct = (opt) => {\n    console.log(opt.title);\n    this.db\n      .collection(\"products\")\n      .add({\n        img: opt.img,\n        price: 100,\n        qty: 1,\n        title: opt.title,\n      })\n      .then((docRef) => {\n        docRef.get().then((snapshot) => {\n          console.log(\"Product has been added\", snapshot.data());\n        });\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n\n  render() {\n    const { products, loading } = this.state;\n    const ocf = this.addProduct;\n    return (\n      <div className=\"App\">\n        <Navbar count={this.getcountOfCartItems()} />\n\n        {this.options.map((opt) => {\n          return (\n            <button\n              onClick={() => {\n                ocf(opt);\n              }}\n              style={{ padding: 20, fontSize: 20 }}\n            >\n              {opt.title}\n            </button>\n          );\n        })}\n        <Cart\n          onIncreaseQuantity={this.handleIncreaseQuantity}\n          onDecreaseQuantity={this.handleDecreaseQuantity}\n          onDeleteProduct={this.handleDeleteProduct}\n          products={products}\n        />\n        {loading && <h1>Loading Products...</h1>}\n        <div style={{ padding: 10, fontSize: 20 }}>\n          TOTAL : {this.getcartTotal()}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as firebase from \"firebase\";\nimport \"firebase/firestore\";\nimport { initializeApp } from \"firebase/app\";\n// TODO: Add SDKs for Firebase products that you want to use\n// https://firebase.google.com/docs/web/setup#available-libraries\n\n// Your web app's Firebase configuration\nconst firebaseConfig = {\n  apiKey: \"AIzaSyAEuwoZorz-InppqAqYwVNsU9rmOeANoE4\",\n  authDomain: \"reactrealtimedbcart.firebaseapp.com\",\n  projectId: \"reactrealtimedbcart\",\n  storageBucket: \"reactrealtimedbcart.appspot.com\",\n  messagingSenderId: \"310878951006\",\n  appId: \"1:310878951006:web:be38d74546fd4877a7c6cf\",\n};\n\n// Initialize Firebase\nconst app = initializeApp(firebaseConfig);\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}