(this.webpackJsonpamazon_cart_clone=this.webpackJsonpamazon_cart_clone||[]).push([[0],{23:function(t,e,n){},24:function(t,e,n){},41:function(t,e,n){"use strict";n.r(e);var c=n(4),o=n.n(c),i=n(17),a=n.n(i),s=(n(23),n(8)),r=n(9),d=n(11),l=n(10),u=(n(24),n(0)),p=function(t){Object(d.a)(n,t);var e=Object(l.a)(n);function n(){return Object(s.a)(this,n),e.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){var t=this,e=this.props.product,n=e.qty,c=e.price,o=e.title,i=this.props.product;return Object(u.jsxs)("div",{className:"cart-item",children:[Object(u.jsx)("div",{className:"left-block",children:Object(u.jsx)("img",{style:{height:110,width:110,borderRadius:5,background:"#ccc"},src:i.img})}),Object(u.jsxs)("div",{className:"right-block",children:[Object(u.jsxs)("div",{style:{fontSize:25},children:[" ",o," "]}),Object(u.jsx)("div",{style:{color:"#777"},children:c}),Object(u.jsxs)("div",{style:{color:"#777"},children:["Qty: ",n]}),Object(u.jsxs)("div",{className:"cart-item-actions",children:[Object(u.jsx)("img",{alt:"add",src:"https://cdn-icons-png.flaticon.com/512/32/32339.png",className:"action-icons",onClick:function(){return t.props.onIncreaseQuantity(i)}}),Object(u.jsx)("img",{alt:"minus",src:"https://cdn-icons-png.flaticon.com/512/43/43625.png",className:"action-icons",onClick:function(){return t.props.onDecreaseQuantity(i)}}),Object(u.jsx)("img",{alt:"delete",src:"https://cdn-icons-png.flaticon.com/512/1214/1214428.png",className:"action-icons",onClick:function(){return t.props.onDeleteProduct(i.id)}})]})]})]})}}]),n}(o.a.Component),h=p,m=function(t){var e=t.products;return Object(u.jsx)("div",{className:"cart",children:e.map((function(e){return Object(u.jsx)(h,{product:e,onIncreaseQuantity:t.onIncreaseQuantity,onDecreaseQuantity:t.onDecreaseQuantity,onDeleteProduct:t.onDeleteProduct},e.id)}))})},g={hea:{color:"white"},nav:{height:70,background:"#4267b2",display:"flex",justifyContent:"space-between",alignItems:"center"},cartIcon:{height:32,marginRight:20},cartIconContainer:{position:"relative"},cartCount:{background:"yellow",borderRadius:"50%",padding:"4px 8px",position:"absolute",right:0,top:-9}},f=function(t){return console.log("props",t),Object(u.jsxs)("div",{style:g.nav,children:[Object(u.jsx)("h1",{style:g.hea,children:"Amazon Cart Clone(REACT)using Firebase Realtime Database"}),Object(u.jsxs)("div",{style:g.cartIconContainer,children:[Object(u.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/512/630/630746.png",style:g.cartIcon}),Object(u.jsx)("span",{style:g.cartCount,children:t.count})]})]})},j=n(14),b=function(t){Object(d.a)(n,t);var e=Object(l.a)(n);function n(){var t;return Object(s.a)(this,n),(t=e.call(this)).handleIncreaseQuantity=function(e){var n=t.state.products,c=n.indexOf(e);t.db.collection("products").doc(n[c].id).update({qty:n[c].qty+1}).then((function(){console.log("Document updated sucessfully")})).catch((function(t){console.log(t)}))},t.handleDecreaseQuantity=function(e){var n=t.state.products,c=n.indexOf(e);0!==n[c].qty&&t.db.collection("products").doc(n[c].id).update({qty:n[c].qty-1}).then((function(){console.log("Document updated sucessfully")})).catch((function(t){console.log(t)}))},t.handleDeleteProduct=function(e){t.state.products;t.db.collection("products").doc(e).delete().then((function(){console.log("Deleted sucessfully")})).catch((function(t){console.log(t)}))},t.getcountOfCartItems=function(){var e=t.state.products,n=0;return e.forEach((function(t){n+=t.qty})),n},t.getcartTotal=function(){var e=t.state.products,n=0;return e.map((function(t){return t.qty>0&&(n+=t.qty*t.price),""})),n},t.addProduct=function(e){console.log(e.title),t.db.collection("products").add({img:e.img,price:100,qty:1,title:e.title}).then((function(t){t.get().then((function(t){console.log("Product has been added",t.data())}))})).catch((function(t){console.log(t)}))},t.state={products:[],loading:!0},t.db=j.firestore(),t.options=[{title:"Rice (1Kg)",img:"https://media.newyorker.com/photos/5f2c85539a557880d973a759/1:1/w_1823,h_1823,c_limit/Buford-FrenchRice.jpg"},{title:"Atta (1Kg)",img:"https://i.ndtvimg.com/mt/cooks/2014-11/wholemeal-flour-atta.jpg"},{title:"Daal (1Kg) ",img:"https://upload.wikimedia.org/wikipedia/commons/thumb/f/f5/3_types_of_lentil.png/640px-3_types_of_lentil.png"},{title:"Onion (1Kg)",img:"https://cdn.theatlantic.com/thumbor/EzN397kNNrSmUeGu8HXn7Kk7nms=/0x93:1000x614/960x500/media/img/mt/2015/05/shutterstock_247399801/original.jpg"},{title:"Tomato (1Kg)",img:"https://upload.wikimedia.org/wikipedia/commons/8/89/Tomato_je.jpg"}],t}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var t=this;this.db.collection("products").orderBy("price","desc").onSnapshot((function(e){var n=e.docs.map((function(t){var e=t.data();return e.id=t.id,e}));t.setState({products:n,loading:!1})}))}},{key:"render",value:function(){var t=this.state,e=t.products,n=t.loading,c=this.addProduct;return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(f,{count:this.getcountOfCartItems()}),this.options.map((function(t){return Object(u.jsx)("button",{onClick:function(){c(t)},style:{padding:20,fontSize:20},children:t.title})})),Object(u.jsx)(m,{onIncreaseQuantity:this.handleIncreaseQuantity,onDecreaseQuantity:this.handleDecreaseQuantity,onDeleteProduct:this.handleDeleteProduct,products:e}),n&&Object(u.jsx)("h1",{children:"Loading Products..."}),Object(u.jsxs)("div",{style:{padding:10,fontSize:20},children:["TOTAL : ",this.getcartTotal()]})]})}}]),n}(o.a.Component),y=(n(40),n(18));Object(y.initializeApp)({apiKey:"AIzaSyAEuwoZorz-InppqAqYwVNsU9rmOeANoE4",authDomain:"reactrealtimedbcart.firebaseapp.com",projectId:"reactrealtimedbcart",storageBucket:"reactrealtimedbcart.appspot.com",messagingSenderId:"310878951006",appId:"1:310878951006:web:be38d74546fd4877a7c6cf"});a.a.render(Object(u.jsx)(b,{}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.3fec4652.chunk.js.map